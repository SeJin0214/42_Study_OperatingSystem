# 프로세스의 개념

### 프로세스
- 실행중인 프로그램
</br>
핵심 질문 : CPU가 여러 개 존재할 수 있도록 하기

### 시분할(time sharing)
- 원하는 수의 프러세스를 동시에 실행할 수 있게 함
- CPU를 공유하기 때문에 각 프로세스의 성능이 낮아짐.
- 한 개체가 잠깐 자원을 사용한 후, 다른 개체가 또 잠깐 자원을 사용하는 방식으로 많은 개체들이 공유함.
- 대응되는 개념으로 공간 분할(space sharing)이 있으며, 예로는 디스크가 있음.


### 메커니즘
- 저수준 도구
- 필요한 기능을 구현하는 방법 및 규칙
- 예로 문맥 교환(context switch)이 있음

### 정책
- 운영체제의 지능
- 운영체제 내에서 어떤 결정을 내리기 위한 알고리즘.
- 예를 들어, 실행 가능한 여러  프로그램중 어떤 프로그램을 실행시켜야 하는지를 스케줄링 정책으로 결정내림.
</br>
</br>

## 프로세스의 개념
- 실행중인 프로그램
- 프로세스가 접근할 수 있는 메모리는 프로세스를 구성하는 요소
- 레지스터도 프로세스의 하드웨어 상태를 구성하는 요소.
  - 프로그램 카운터(PC) : 프로그램의 어느 명령어가 실행중인지 알려줌. 명령어 포인터(IP)라고도 불림
  - 스텍 포인터(stack pointer)와 프레임 포인터(frame pointer) 함수의 변수와 리턴 주소를 저장하는 스텍 관리시 사용하는 레지스터
</br>
</br>

## 프로세스 API
운영제체가 반드시 API로 제공해야 하는 기본 기능  
- 생성 : 새로운 프로세스를 생성할 수 있는 방법을 제공.  
    - 쉘에 명령어 입력, 응용프로그램 아이콘 더블클릭시 새로운 프로세스 생성  
- 제거 : 프로세스를 강제 제거할 수 있는 인터페이스 제공.  
    - 필요없는 프로세스를 중단시키기.
- 대기 : 프로세스 실행 중지를 기다리기 위한 대기 인터페이스 제공
- 각종 제어 : 이외 여러 제어기능 제공.
    - 예로, 프로세스를 일시정지 및 재개 기능 제공
- 상태 : 프로세스 상태 정보를 얻어내는 인터페이스 제공
    - 얼마동안 실행되었는제, 어떤 상태에 있는지 등.  

## 프로세스 생성
프로그램이 어떻게 프로세스로 변형되는가?  

1. 프로그램 코드와 정적 데이터를 메모리, 프로세스 주소공간에 탑재
   - 프로그램은 디스크 또는 SSD에 실행파일 형식으로 존재하기에, 운영체제는 해당 바이트를 읽어 메모리에 저장해야 함.
   - 초기 운엉체제는 실행전에 코드와 데이터를 모두 메모리에 탑재하였으나, 현대에는 필요할 때 필요한 부분만 탑재.
   - 늦은 탑재를 정확히 이해하기 위해 페이징, 스와핑 동작을 이해해야 함.
2. 실행 전, 일정량의 메모리가 프로그램의 실행시간 스택 용도로 할당되어야 함.
   - 지역 변수, 함수 인자, 리턴 주소 등을 저장하기 위해 스택을 사용함.
3. 프로그램의 힙(heap)을 위한 메모리 영역을 할당.
    - 동적 할당된 데이터를 저장하기 위해 사용.
4. 입출력과 관련된 초기화 작업을 수행
   - 각 프로세스는 기본적으로 표준 입력, 표준 출력, 표준 에러 장치에 해당하는 세 FD를 갖는다.
5. 모든 실행 준비를 마친 후 프로그램 시작 지점 즉 main()에서부터 실행을 시작하는 작업만이 남음.

## 프로세스 상태
- 실행(Running): 프로세스는 프로세스에서 실행중임. 즉 명령어를 실행하고 있음.
- 준비(Ready): 실행할 준비가 되어있으나 운영체제가 다른 프로세스를 실행하고 있는 등의 이유로 대기중.
- 대기(Blocked): 프로세스가 다른 사건을 기다리는 동안 수행을 중단시키는 연산.

## 자료 구조
운영체제도 일종의 프로그램이기에 다양한 정보를 유지하기 위한 자료구조를 가지고 있음.
- 예를 들어 프로세스 리스트, 레지스터 문맥 자료구조 등이 있음. 




































