# 프로세스 API

운영체제 API와 사용법을 포함한 시스템의 실제적 측면을 다룬다.
fork(), exec()시스템 콜, wait() 등  
</br>
</br>

## fork() 시스템 콜

프로세스 생성에 사용됨  

- 운영체제는 프로세스 생성을 위해 이 시스템 콜을 제공.
- 생성된 프로세스는 호출한 프로세스의 복사본.
- 새로생성된 자식 프로세스는 main()함수 첫 부분부터 시작하지 않으며, fork()를 호출하면서부터 시작됨.
- 자식 프로세스는 부모 프로세스와 다른 자신의 주소공간, 레지스터, PC값을 갖으며, fork()시스템 콜의 반환값 또한 서로 다름.
  - fork()로부터, 부모 프로세스는 자식의 PID를 반환받고, 자식 프로세스는 0을 반환받는다.

## wait() 시스템 콜

부모 프로세스가 자식 프로세스의 종료를 대기해야 하는 경우  

- (예제에서) 부모 프로세스는 wait()을 호춣하여 자식의 종료시점까지 자신의 실행을 잠시 중지시킴.
- 자식 프로세스가 종료되면 wait()는 리턴.

## exec() 시스템 콜

자기 자신이 아닌 다른 프로그램을 실행해야 할 때 사용.

- 자신의 복사본을 생성하여 실행하는 fork()와 달리, 다른 프로그램을 실행해야 할 경우 사용.
- 현재 실행중인 프로세스의 코드 세그맨트와 정적 데이터 부분을 덮어 쓰고, 힙과 스택 및 다른 주소공간들로 새로운 프로그램의 실행을 위해 다시 초기화 됨.
- 이후, 운영체제는 프로세스의 argv와 같은 인자를 전달하여 프로그램을 실행시킴.
- 즉, 새로운 프로세스 생성이 아니라 현재 실행중인 프로그램을 다른 프로그램으로 대체하는 것.

## 왜 이런 API를?

UNIX의 쉘 구현을 위해서는 fork와 exec를 분리해야 함.
fork와 exec를 분리하여 쉘은 많은 유용한 일을 쉽게 할 수 있음.
이 조합은 프로세스를 생성하고 조작하는 강력한 방법.

## 여타 API들

fork(), exec(), wait() 외에도 많은 인터페이스가 존재.

- kill()
  - 프로세스에게 시그널(signal)을 보내는데 사용하는 시스템 콜
  - 시그널은 프로세스를 중단(block)및 삭제하는 작업에 사용됨.
  - 시그널이라는 메커니즘은 외부 사건을 프로세스에게 전달하는 토대.
